---
title: "AJAX [ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ Deep Dive 43ì¥]"
date: "2022-07-06"
lastmod: "2022-07-06"
category: "JavaScript"
tags: ["http", "ajax"]
series: '"ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ Deep Dive" ì½ê³  ì •ë¦¬í•˜ê¸° ğŸ“š'
description: "ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ Deep Dive 43ì¥ ë‚´ìš©ì„ ì •ë¦¬í•œ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤."
thumbNail: "https://github.com/BY-juun/Blog/assets/78716842/6b4065ee-7d44-4580-899f-58dafcb8b5a7"
---

<div align="right">
  [![Hits](https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fdevlog-juneby.vercel.app%2Fposts%2FJavaScript%2Fdeep-dive-js-43&count_bg=%233B82F6&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=views&edge_flat=false)](https://hits.seeyoufarm.com)
</div>

# ğŸŒŸAJAXë€?

`Ajax (Asynchronus JavaScript and XML)` ë€,Â **ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•´ ë¸Œë¼ìš°ì €ê°€ ì„œë²„ì—ê²Œ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìš”ì²­**í•˜ê³ ,Â **ì„œë²„ê°€ ì‘ë‹µí•œ ë°ì´í„°ë¥¼ ìˆ˜ì‹ í•˜ì—¬ ì›¹ í˜ì´ì§€ë¥¼ ë™ì ìœ¼ë¡œ ê°±ì‹ í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ë°©ì‹**ì„ ë§í•œë‹¤.

ì´ì „ì˜ ì›¹í˜ì´ì§€ëŠ” ì™„ì „í•œ HTMLì„ ì„œë²„ë¡œë¶€í„° ì „ì†¡ë°›ì•„ ì›¹í˜ì´ì§€ë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë Œë”ë§í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í–ˆë‹¤. ë”°ë¼ì„œ, í™”ë©´ì´ ì „í™˜ë˜ë©´ ì„œë²„ë¡œë¶€í„° ìƒˆë¡œìš´ HTMLì„ ì „ì†¡ë°›ì•„ ì›¹í˜ì´ì§€ ì „ì²´ë¥¼ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ëœë”ë§í–ˆë‹¤.

ì´ëŸ¬í•œ ì „í†µì ì¸ ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ì ì´ ìˆë‹¤.

- ì´ì „ ì›¹í˜ì´ì§€ì™€ ì°¨ì´ê°€ ì—†ì–´ì„œ ë³€ê²½í•  í•„ìš”ê°€ ì—†ëŠ” ë¶€ë¶„ê¹Œì§€ í¬í•¨í•œ ì™„ì „í•œ HTMLì„ ì„œë²„ë¡œë¶€í„° ë§¤ë²ˆ ë‹¤ì‹œ ì „ì†¡ë°›ê¸° ë•Œë¬¸ì—, ë¶ˆí•„ìš”í•œ ë°ì´í„° í†µì‹ ì´ ë°œìƒí•œë‹¤.
- ë³€ê²½í•  í•„ìš”ê°€ ì—†ëŠ” ë¶€ë¶„ê¹Œì§€ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë Œë”ë§í•˜ê¸° ë•Œë¬¸ì—, í™”ë©´ ì „í™˜ì´ ì¼ì–´ë‚˜ë©´ í™”ë©´ì´ ìˆœê°„ì ìœ¼ë¡œ ê¹œë°•ì´ëŠ” í˜„ìƒì´ ë°œìƒí•œë‹¤.
- í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì™€ì˜ í†µì‹ ì´ ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì—, ì„œë²„ë¡œë¶€í„° ì‘ë‹µì´ ìˆì„ ë•Œ ê¹Œì§€ ë‹¤ìŒ ì²˜ë¦¬ë¥¼ ë¸”ë¡œí‚¹ëœë‹¤.

<br />

# ğŸŒŸJSON

`JSON (Javascript Object Notation)` ì€ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ HTTP í†µì‹ ì„ ìœ„í•œ í…ìŠ¤íŠ¸ ë°ì´í„° í¬ë§·ì´ë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì— ì¢…ì†ë˜ì§€ ì•ŠëŠ” ì–¸ì–´ ë…ë¦½í˜• ë°ì´í„° í¬ë§·ìœ¼ë¡œ, ëŒ€ë¶€ë¶„ì˜ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.

## âœ¨JSON í‘œê¸° ë°©ì‹

JSONì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ê°ì²´ ë¦¬í„°ëŸ´ê³¼ ìœ ì‚¬í•˜ê²Œ í‚¤ì™€ ê°’ìœ¼ë¡œ êµ¬ì„±ëœ ìˆœìˆ˜í•œ í…ìŠ¤íŠ¸ë‹¤.

```jsx
{
    "name": "Lee",
    "age": 20,
    "alive": true,
    "hobby": ["traveling", "tennis"]
}

```

## âœ¨JSON.stringify

`JSON.stringify` ë©”ì„œë“œëŠ” ê°ì²´ë¥¼ `JSON` í¬ë§·ì˜ ë¬¸ìì—´ë¡œ ë³€í™˜í•œë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ ê°ì²´ë¥¼ ì „ì†¡í•˜ë ¤ë©´ ê°ì²´ë¥¼ ë¬¸ìì—´í™”í•´ì•¼ í•˜ëŠ”ë° ì´ë¥¼Â **ì§ë ¬í™”**ë¼ê³  í•œë‹¤.

```jsx
const obj = {
  name: "Lee",
  age: 20,
  alive: true,
  hobby: ["traveling", "tennis"],
};

// ê°ì²´ë¥¼ JSON í¬ë§·ì˜ ë¬¸ìì—´ë¡œ ë³€í™˜í•œë‹¤.
const json = JSON.stringify(obj);
console.log(typeof json, json);
// string {"name":"Lee","age":20,"alive":true,"hobby":["traveling","tennis"]}

// ê°ì²´ë¥¼ JSON í¬ë§·ì˜ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ë©´ì„œ ë“¤ì—¬ì“°ê¸° í•œë‹¤.
const prettyJson = JSON.stringify(obj, null, 2);
console.log(typeof prettyJson, prettyJson);
/*
string {
  "name": "Lee",
  "age": 20,
  "alive": true,
  "hobby": [
    "traveling",
    "tennis"
  ]
}
*/

// replacer í•¨ìˆ˜. ê°’ì˜ íƒ€ì…ì´ Numberì´ë©´ í•„í„°ë§ë˜ì–´ ë°˜í™˜ë˜ì§€ ì•ŠëŠ”ë‹¤.
function filter(key, value) {
  // undefined: ë°˜í™˜í•˜ì§€ ì•ŠìŒ
  return typeof value === "number" ? undefined : value;
}

// JSON.stringify ë©”ì„œë“œì— ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ replacer í•¨ìˆ˜ë¥¼ ì „ë‹¬í•œë‹¤.
const strFilteredObject = JSON.stringify(obj, filter, 2);
console.log(typeof strFilteredObject, strFilteredObject);
/*
string {
  "name": "Lee",
  "alive": true,
  "hobby": [
    "traveling",
    "tennis"
  ]
}
*/
```

##

## âœ¨JSON.parse

JSON.parse ë©”ì„œë“œëŠ” JSON í¬ë§·ì˜ ë¬¸ìì—´ì„ ê°ì²´ë¡œ ë³€í™˜í•œë‹¤.

```jsx
const obj = {
  name: "Lee",
  age: 20,
  alive: true,
  hobby: ["traveling", "tennis"],
};

// ê°ì²´ë¥¼ JSON í¬ë§·ì˜ ë¬¸ìì—´ë¡œ ë³€í™˜í•œë‹¤.
const json = JSON.stringify(obj);

// JSON í¬ë§·ì˜ ë¬¸ìì—´ì„ ê°ì²´ë¡œ ë³€í™˜í•œë‹¤.
const parsed = JSON.parse(json);
console.log(typeof parsed, parsed);
// object {name: "Lee", age: 20, alive: true, hobby: ["traveling", "tennis"]}
```

<br />

# ğŸŒŸXMLHttpRequest

ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•´ HTTP ìš”ì²­ì„ ì „ì†¡í•˜ë ¤ë©´ `XMLHttpRequest` ê°ì²´ë¥¼ ì‚¬ìš©í•œë‹¤.

## âœ¨XMLHttpRequest ê°ì²´ ìƒì„±

`XMLHttpRequest` ê°ì²´ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ì œê³µí•˜ëŠ” Web APIì´ë¯€ë¡œ ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œë§Œ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.

## âœ¨HTTP ìš”ì²­ ì „ì†¡

HTTP ìš”ì²­ì„ ì „ì†¡í•˜ëŠ” ê²½ìš° ë‹¤ìŒ ìˆœì„œë¥¼ ë”°ë¥¸ë‹¤.

1. XMLHttpRequest.prototype.open ë©”ì„œë“œë¡œ HTTP ìš”ì²­ì„ ì´ˆê¸°í™”í•œë‹¤.
2. í•„ìš”ì— ë”°ë¼, XMLHttpRequest.prototype.setRequestHeader ë©”ì„œë“œë¡œ íŠ¹ì • HTTP ìš”ì²­ì˜ í—¤ë” ê°’ì„ ì„¤ì •í•œë‹¤.
3. XMLHttpRequest.prototype.send ë©”ì„œë“œë¡œ HTTP ìš”ì²­ì„ ì „ì†¡í•œë‹¤.

```jsx
// XMLHttpRequest ê°ì²´ ìƒì„±
const xhr = new XMLHttpRequest();

// HTTP ìš”ì²­ ì´ˆê¸°í™”
xhr.open("GET", "/users");

// HTTP ìš”ì²­ í—¤ë” ì„¤ì •// í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ ì „ì†¡í•  ë°ì´í„°ì˜ MIME íƒ€ì… ì§€ì •: json
xhr.setRequestHeader("content-type", "application/json");

// HTTP ìš”ì²­ ì „ì†¡
xhr.send();
```

**XMLHttpRequest.prototype.open**

open ë©”ì„œë“œëŠ” ì„œë²„ì— ì „ì†¡í•  HTTP ìš”ì²­ì„ ì´ˆê¸°í™”í•œë‹¤. (methodì™€ urlì„ ë§¤ê²Œë³€ìˆ˜ë¡œ ë°›ìŒ)

**XMLHttpRequest.prototype.send**

send ë©”ì„œë“œëŠ” open ë©”ì„œë“œë¡œ ì´ˆê¸°í™”ëœ HTTP ìš”ì²­ì„ ì„œë²„ì— ì „ì†¡í•œë‹¤.

send ë©”ì„œë“œëŠ” ìš”ì²­ ëª¸ì²´ì— ë‹´ì•„ ì „ì†¡í•  ë°ì´í„°(í˜ì´ë¡œë“œ)ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. í˜ì´ë¡œë“œê°€ ê°ì²´ì¸ ê²½ìš° ë°˜ë“œì‹œ `JSON.stringify` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ ì§ë ¬í™”í•œ ë‹¤ìŒ ì „ë‹¬í•´ì•¼ í•œë‹¤.

```jsx
xhr.send(JSON.stringify({ id: 1, content: "HTML", completed: false }));
```

**XMLHttpRequest.prototype.setRequestHeader**

`setRequestHeader` ë©”ì„œë“œëŠ” íŠ¹ì • HTTP ìš”ì²­ì˜ í—¤ë” ê°’ì„ ì„¤ì •í•œë‹¤. `setRequestHeader` ë©”ì„œë“œëŠ” ë°˜ë“œì‹œ open ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ ì´í›„ í˜¸ì¶œí•´ì•¼ í•œë‹¤.

## âœ¨HTTP ì‘ë‹µ ì²˜ë¦¬

ì„œë²„ê°€ ì „ì†¡í•œ ì‘ë‹µì„ ì²˜ë¦¬í•˜ë ¤ë©´ `XMLHttpRequest` ê°ì²´ê°€ ë°œìƒì‹œí‚¤ëŠ” ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•´ì•¼ í•œë‹¤.

XMLHttpRequest ê°ì²´ëŠ” onreadystatechange, onload, onerror ê°™ì€ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ”ë‹¤. ì´ ì¤‘, HTTP ìš”ì²­ì˜ í˜„ì¬ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” readyState í”„ë¡œí¼í‹° ê°’ì´ ë³€ê²½ëœ ê²½ìš° ë°œìƒí•˜ëŠ” readystatechange ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ HTTP ì‘ë‹µì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

```jsx
// XMLHttpRequest ê°ì²´ ìƒì„±
const xhr = new XMLHttpRequest();

// HTTP ìš”ì²­ ì´ˆê¸°í™”// https://jsonplaceholder.typicode.comì€ Fake REST APIë¥¼ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ë‹¤.
xhr.open("GET", "https://jsonplaceholder.typicode.com/todos/1");

// HTTP ìš”ì²­ ì „ì†¡
xhr.send();

// load ì´ë²¤íŠ¸ëŠ” HTTP ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê²½ìš° ë°œìƒí•œë‹¤.
xhr.onload = () => {
  // status í”„ë¡œí¼í‹°ëŠ” ì‘ë‹µ ìƒíƒœ ì½”ë“œë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.// status í”„ë¡œí¼í‹° ê°’ì´ 200ì´ë©´ ì •ìƒì ìœ¼ë¡œ ì‘ë‹µëœ ìƒíƒœì´ê³ // status í”„ë¡œí¼í‹° ê°’ì´ 200ì´ ì•„ë‹ˆë©´ ì—ëŸ¬ê°€ ë°œìƒí•œ ìƒíƒœë‹¤.// ì •ìƒì ìœ¼ë¡œ ì‘ë‹µëœ ìƒíƒœë¼ë©´ response í”„ë¡œí¼í‹°ì— ì„œë²„ì˜ ì‘ë‹µ ê²°ê³¼ê°€ ë‹´ê²¨ ìˆë‹¤.
  if (xhr.status === 200) {
    console.log(JSON.parse(xhr.response));
    // {userId: 1, id: 1, title: "delectus aut autem", completed: false}
  } else {
    console.error("Error", xhr.status, xhr.statusText);
  }
};
```

`readystatechange` ì´ë²¤íŠ¸ ëŒ€ì‹ , `load` ì´ë²¤íŠ¸ë¥¼ ìºì¹˜í•´ë„ ì¢‹ë‹¤.

`load` ì´ë²¤íŠ¸ëŠ” `HTTP` ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œëœ ê²½ìš° ë°œìƒí•œë‹¤.
