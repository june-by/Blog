---
title: "Render Props íŒ¨í„´ì„ í™œìš©í•´ ë¡œì§ ë¶„ë¦¬í•˜ê¸°"
date: "2024-06-11"
lastmod: "2024-06-11"
category: "React"
tags: ["render-props", "context"]
description: "render props íŒ¨í„´ì„ í™œìš©í•´ í™˜ê²½ë³„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë Œë”ë§ ë¡œì§ì„ ë¶„ë¦¬í•´ ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’ì¸ ê²½í—˜ì— ëŒ€í•´ ì‘ì„±í•œ í¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤."
thumbNail: "https://github.com/BY-juun/Blog/assets/78716842/39ef0f4d-7235-44bb-b391-501a8f84f55a"
---

<div align="right">
  [![Hits](https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fbyjuun.com%2Fposts%2FReact%2Frender-props-pattern&count_bg=%233B82F6&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=views&edge_flat=false)](https://hits.seeyoufarm.com)
</div>

# ë°°ê²½

í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œì˜ ê°œë°œì„ ì§„í–‰í•˜ë‹¤ë³´ë©´, ì¢…ì¢… íŠ¹ì • ì¡°ê±´ì— ëŒ€í•œ ë¶„ê¸°ë¬¸ì„ ì‘ì„±í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ë©´ ì•„ë˜ì™€ ê°™ì€ ì¼€ì´ìŠ¤ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.

- `Mobile Web` í™˜ê²½, `Webview` í™˜ê²½ ê°ê°ì—ì„œ ì‹¤í–‰, ë Œë”ë§ ë˜ì–´ì•¼ í•˜ëŠ” ì½”ë“œ
- íŠ¹ì • ê¸°ëŠ¥ì— ëŒ€í•œ ê¶Œí•œì´ ì¡´ì¬í•  ë•Œ ì‹¤í–‰, ë Œë”ë§ ë˜ì–´ì•¼ í•˜ëŠ” ì½”ë“œ
- ë¡œê·¸ì¸í•œ ê²½ìš°ì—ë§Œ ì‹¤í–‰, ë Œë”ë§ ë˜ì–´ì•¼ í•˜ëŠ” ì½”ë“œ

ìœ„ì™€ ê°™ì€ ë¶„ê¸°ê°€ ë“¤ì–´ê°ˆ ê²½ìš°, ë³´í†µì€ `ifë¬¸`, `3í•­ ì—°ì‚°ì` ë˜ëŠ” `ë…¼ë¦¬ì—°ì‚°ì(&&)`ë¥¼ ì´ìš©í•´ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ ë©ë‹ˆë‹¤.

```tsx title="ë¡œê·¸ì¸ í•œ ê²½ìš° Data Fetch / ë¡œê·¸ì¸ í•˜ì§€ ì•Šì€ ê²½ìš° í˜ì´ì§€ Redirect"
const fetchData = () => {
  if (!isLoggedIn) {
    return redirect("/login");
  } else {
    fetch(xxx);
  }
};
```

```tsx title="Webview í™˜ê²½ì¸ ê²½ìš° ì•±ìŠ¤í‚´ í˜¸ì¶œ / Mobile Web í™˜ê²½ì¸ ê²½ìš° í•¨ìˆ˜ í˜¸ì¶œ"
const handleClickCloseButton = () => {
  if (isWebview) {
    callAppScheme("app://close");
  } else {
    onClose();
  }
};
```

```tsx title="ìƒí’ˆ êµ¬ë§¤ ìœ ë¬´ì— ë”°ë¼ ë Œë”ë§/í´ë¦­ ë¡œì§ ë¶„ê¸°"
const GotoExamButton = () => {
  return (
    <button
      onClick={() => {
        if (isAuth) {
          router.push("/exam");
        } else {
          router.push("/store");
        }
      }}
    >
      {isAuth ? ì‹œí—˜ë³´ê¸° : ì‹œí—˜êµ¬ë§¤í•˜ê¸°}
    </button>
  );
};
```

ìœ„ ì¼€ì´ìŠ¤ë“¤ì€ ëª¨ë‘ ê°„ë‹¨í•œ ì¼€ì´ìŠ¤ì´ê¸° ë•Œë¬¸ì— ì½”ë“œì˜ íë¦„ì„ íŒŒì•…í•˜ê¸° ì–´ë µì§€ ì•ŠìŠµë‹ˆë‹¤.  
í•˜ì§€ë§Œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë³µì¡í•´ì§ˆìˆ˜ë¡, ì½”ë“œì˜ ì´ê²ƒì €ê³³ì—ì„œ í•˜ë‚˜ì˜ ì¡°ê±´ì„ ê¸°ì¤€ìœ¼ë¡œ ë§ì€ ë¶„ê¸°ë¬¸ì´ ë°œìƒí•˜ê²Œ ë©ë‹ˆë‹¤.

ì´ë•Œ, `Render Props` íŒ¨í„´ì„ í™œìš©í•œë‹¤ë©´ ë¶„ê¸°ë¬¸ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  ê°ê° ì¼€ì´ìŠ¤ê°€ ê²©ë¦¬ëœ ìƒíƒœë¡œ ì½”ë“œë¥¼ ê´€ë¦¬í•´ ë” ì‰½ê²Œ ìœ ì§€ë³´ìˆ˜ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<br />

# Render Props íŒ¨í„´ì´ë€?

`Render Props` íŒ¨í„´ì€ ì»´í¬ë„ŒíŠ¸ì˜ `prop`ìœ¼ë¡œ `JSX ì—˜ë¦¬ë¨¼íŠ¸`ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ `Render Props` íŒ¨í„´ì€ ì•„ë˜ì™€ ê°™ì´ `renderXXX` ê°™ì€ `prop`ìœ¼ë¡œ ë Œë”ë§í•  ì»´í¬ë„ŒíŠ¸(JSX ì—˜ë¦¬ë¨¼íŠ¸)ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.

```tsx title="Render Props with renderItem prop"
function List({ items, renderItem }) {
  const [selectedIndex, setSelectedIndex] = useState(0);
  return (
    <div className="List">
      {items.map((item, index) => {
        const isHighlighted = index === selectedIndex;
        return renderItem(item, isHighlighted);
      })}
      <hr />
      <button
        onClick={() => {
          setSelectedIndex((i) => (i + 1) % items.length);
        }}
      >
        Next
      </button>
    </div>
  );
}

<List
  items={products}
  renderItem={(product, isHighlighted) => (
    <Row key={product.id} title={product.title} isHighlighted={isHighlighted} />
  )}
/>;
```

<br />

ë¬¼ë¡  `renderXXX` propì„ ì‚¬ìš©í•˜ëŠ”ì§€ì•Šê³  `children` propì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```tsx title="Render Props with children prop" {22-24}
function List({ items, children }) {
  const [selectedIndex, setSelectedIndex] = useState(0);
  return (
    <div className="List">
      {items.map((item, index) => {
        const isHighlighted = index === selectedIndex;
        return children(item, isHighlighted);
      })}
      <hr />
      <button
        onClick={() => {
          setSelectedIndex((i) => (i + 1) % items.length);
        }}
      >
        Next
      </button>
    </div>
  );
}

<List items={products}>
  {(product, isHighlighted) => (
    <Row key={product.id} title={product.title} isHighlighted={isHighlighted} />
  )}
</List>;
```

`Render Props` íŒ¨í„´ì„ ë” ìì„¸íˆ ì‚´í´ë³´ë ¤ë©´ ì•„ë˜ Referenceë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.

- [https://react.dev/reference/react/cloneElement#passing-data-with-a-render-prop](https://react.dev/reference/react/cloneElement#passing-data-with-a-render-prop)
- [https://patterns-dev-kr.github.io/design-patterns/render-props-pattern/](https://patterns-dev-kr.github.io/design-patterns/render-props-pattern/)

<br />

# Render Props íŒ¨í„´ì„ í™œìš©í•œ ë¡œì§ ë¶„ë¦¬

ì œê°€ ìµœê·¼ì— ê²ªì—ˆë˜ ì¼€ì´ìŠ¤ëŠ” ì•„ë˜ ì¼€ì´ìŠ¤ì˜€ìŠµë‹ˆë‹¤.

- í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ `Webview`, `Mobile Web` í™˜ê²½ì—ì„œ ì œê³µ
  - `Mobile Web` í™˜ê²½ê³¼ `Webview` í™˜ê²½ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ë¡œì§ì´ ë‹¤ë¦„
  - `Mobile Web` í™˜ê²½ê³¼ `Webview` í™˜ê²½ì—ì„œ íŠ¹ì • ìœ ì € ì¸í„°ë ‰ì…˜ì´ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë¡œì§ì´ ë‹¤ë¦„
  - `Mobile Web` í™˜ê²½ê³¼ `Webview` í™˜ê²½ì—ì„œ ë Œë”ë§ ë˜ì–´ì•¼ í•˜ëŠ” UIê°€ ë‹¤ë¦„

ì´ˆê¸°ì—ëŠ” ì•„ë˜ì™€ ê°™ì´ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë‚´ì—ì„œ ëª¨ë“  ì½”ë“œë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

```tsx title="AS-IS" {4-8, 14-18}
const InitialComponent = () => {
  /********************* Webview Logic ***********************/

  /**
   * Webview í™˜ê²½ì—ì„œ
   * Componentê°€ Mountëœ ì´í›„,
   * ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë¡œì§
   */

  /********************* Webview Logic ***********************/

  /********************* Mobile Web Logic ********************/

  /**
   * Mobile Web í™˜ê²½ì—ì„œ
   * Componentê°€ Mountëœ ì´í›„,
   * ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë¡œì§
   */

  /********************* Mobile Web Logic ********************/

  return (
    <div>
      ...
      {!isApp && <Header />}
      <AddButton
        handleClick={() => {
          if (isApp) {
            callAddAppScheme();
          } else {
            addStock();
          }
        }}
      />
      {!isApp && <GotoTopButton />}
    </div>
  );
};
```

ìœ„ ì½”ë“œì˜ ë¬¸ì œì ì€ `Webview`, `Mobile Web` í™˜ê²½ì—ì„œ í•„ìš”í•œ ë¡œì§ê³¼ UIê°€ í•œê³³ì— ë­‰ì³ìˆë‹¤ë³´ë‹ˆ, ì—¬ëŸ¬ê³³ì˜ ë¡œì§ê³¼ JSX ë Œë”ë§ ë¶€ë¶„ì— ë¶„ê¸°ë¬¸ì´ ë“¤ì–´ê°€ ì½”ë“œì˜ íë¦„ì„ í•œëˆˆì— íŒŒì•…í•˜ê¸° í˜ë“¤ë‹¤ëŠ” ì ì´ì—ˆìŠµë‹ˆë‹¤.

ì´ë¡œì¸í•´, íŠ¹ì • í™˜ê²½ì—ì„œì˜ ê¸°ëŠ¥ ì¶”ê°€ í˜¹ì€ ìˆ˜ì • ìš”ì²­ì´ ë“¤ì–´ì˜¨ë‹¤ë©´ ê¸°ì¡´ ì½”ë“œë¥¼ íŒŒì•…í•˜ëŠ”ë° ì‹œê°„ì´ ì¶”ê°€ì ìœ¼ë¡œ ì†Œëª¨ë˜ê³ , íŠ¹ì • í™˜ê²½ì—ì„œì˜ ìˆ˜ì •ì‚¬í•­ì´ ë‹¤ë¥¸ìª½ í™˜ê²½ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ì§€ ì¶”ê°€ì ìœ¼ë¡œ í™•ì¸ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.

<br />

ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `Render Props` íŒ¨í„´ì„ ì ìš©í•´ ê°ê°ì˜ í™˜ê²½ë³„ë¡œ ì‹¤í–‰, ë Œë”ë§ ë˜ì–´ì•¼í•˜ëŠ” ì½”ë“œë¥¼ ë‚˜ëˆ„ì—ˆìŠµë‹ˆë‹¤.

```tsx title="WebviewWrapperComponent.tsx" {8-12, 16}
interface Props {
  children: (callInsertAppScheme: CallInsertAppScheme) => React.ReactNode;
}

const WebviewWrapperComponent = ({ children }: Props) => {
  /********************* Webview Logic ***********************/

  /**
   * Webview í™˜ê²½ì—ì„œ
   * Componentê°€ Mountëœ ì´í›„,
   * ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë¡œì§
   */

  /********************* Webview Logic ***********************/

  return <>{children(callInsertAppScheme)}</>;
};
```

```tsx title="MWWrapperComponent.tsx" {8-12, 17-21}
interface Props {
  children: (addStock: AddStock) => React.ReactNode;
}

const MWWrapperComponent = ({ children }: Props) => {
  /********************* Mobile Web Logic ********************/

  /**
   * Mobile Web í™˜ê²½ì—ì„œ
   * Componentê°€ Mountëœ ì´í›„,
   * ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë¡œì§
   */

  /********************* Mobile Web Logic ********************/

  return (
    <>
      <Header />
      {children(addStock)}
      <GotoTopButton />
    </>
  );
};
```

```tsx title="ViewComponent.tsx"
const WrapperComponent = () => {
  if (isApp) {
    return (
      <WebviewWrapperComponent>
        {(callInsertAppScheme) => (
          <ViewComponent {...data} handleClickAddButton={callInsertAppScheme} />
        )}
      </WebviewWrapperComponent>
    );
  }

  return (
    <MWWrapperComponent>
      {(addStock) => (
        <ViewComponent {...data} handleClickAddButton={addStock} />
      )}
    </MWWrapperComponent>
  );
};
```

ê°ê°ì˜ í™˜ê²½ë³„ë¡œ í•„ìš”í•œ ì½”ë“œë¥¼ ë‚˜ëˆ”ìœ¼ë¡œì¨, í™˜ê²½ë³„ë¡œ ì‘ì—…ì„ ì§„í–‰í•´ì•¼í•  ë•Œ í›¨ì”¬ ë¹ ë¥´ê²Œ ì½”ë“œë¥¼ ë¶„ì„í•˜ê³  ê°œë°œì„ ì§„í–‰í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.  
ë¿ë§Œ ì•„ë‹ˆë¼, ì½”ë“œê°€ ë¶„ë¦¬ë˜ì–´ ìˆì–´ íŠ¹ì • í™˜ê²½ì˜ ë³€ê²½ì‚¬í•­ì´ ë‹¤ë¥¸ìª½ í™˜ê²½ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ”ë‹¤ëŠ”ê²ƒì„ í™•ì‹ í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì¶”ê°€ì ìœ¼ë¡œ, ìœ„ì—ì„œëŠ” íŠ¹ì • í™˜ê²½ì—ì„œ ë Œë”ë§í•´ì•¼í•˜ëŠ” `UI`ë¥¼ `Wrapper Component`ì— ë„£ì–´ë†“ì•˜ì§€ë§Œ, ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€ì ì¸ `prop`ì„ í†µí•´ ì£¼ì…í•˜ëŠ” ë°©í–¥ìœ¼ë¡œë„ êµ¬í˜„ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```tsx
const WrapperComponent = () => {
  if (isApp) {
    return (
      <WebviewWrapperComponent>
        {(callInsertAppScheme) => (
          <ViewComponent {...data} handleClickAddButton={callInsertAppScheme} />
        )}
      </WebviewWrapperComponent>
    );
  }

  return (
    <MWWrapperComponent>
      {(addStock) => (
        <ViewComponent
          {...data}
          handleClickAddButton={addStock}
          viewContentAboveComponent={<Header />}
          viewContentBehindComponent={<GotoTopButton />}
        />
      )}
    </MWWrapperComponent>
  );
};

interface ViewComponentProps {
  handleClickAddButton: () => void;
  viewContentAboveComponent?: React.ReactNode;
  viewContentBehindComponent?: React.ReactNode;
}

const ViewCompoent = ({
  viewContentAboveComponent,
  viewContentBehindComponent,
  handleClickAddButton,
}) => {
  return (
    <>
      {viewContentAboveComponent}
      {/* ViewContent */}
      {viewContentBehindComponent}
    </>
  );
};
```

<br />

# Context í™œìš©

ìœ„ ì¼€ì´ìŠ¤ì— ëŒ€í•œ ê°œë°œì„ ì§„í–‰í•  ë‹¹ì‹œ, `prop` ì„ í™œìš©í•´ ë°ì´í„°ì™€ ë¡œì§(ì˜ì¡´ì„±)ì„ ì£¼ì…í•˜ëŠ” ë°©í–¥ì´ ì½”ë“œë¥¼ í•œëˆˆì— íŒŒì•…í•˜ëŠ”ë° í›¨ì”¬ ì‰½ë‹¤ê³  íŒë‹¨í•´ `Render Props` íŒ¨í„´ì„ í™œìš©í–ˆìŠµë‹ˆë‹¤.  
(`WrapperComponent`(ë¶€ëª¨) ì»´í¬ë„ŒíŠ¸ë§Œ ë³´ê³  ê°ê°ì˜ ìƒí™©ì—ì„œ ì–´ë–¤ ë°ì´í„°, ë¡œì§ì„ ë„˜ê¸°ëŠ”ì§€ í•œëˆˆì— íŒŒì•… ê°€ëŠ¥)

ë°˜ëŒ€ë¡œ `prop` ì„ í™œìš©í•˜ì§€ ì•Šê³  `Context`ë¥¼ ì´ìš©í•´ì„œë„ ê°ê°ì˜ ìƒí™©ì— ë§ê²Œ ë°ì´í„°ì™€ ë¡œì§(ì˜ì¡´ì„±)ì„ ì£¼ì…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
const WebviewWrapperComponent = ({ children }: Props) => {
  /********************* Webview Logic ***********************/

  /**
   * Webview í™˜ê²½ì—ì„œ
   * Componentê°€ Mountëœ ì´í›„,
   * ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë¡œì§
   */

  /********************* Webview Logic ***********************/
  return (
    <SomeContext.Provider
      value={{
        handleClickAddButton: addStock,
      }}
    >
      {children}
    </SomeContext.Provider>
  );
};

const MWWrapperComponent = ({ children }: Props) => {
  /********************* Mobile Web Logic ********************/

  /**
   * Mobile Web í™˜ê²½ì—ì„œ
   * Componentê°€ Mountëœ ì´í›„,
   * ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ë¡œì§
   */

  /********************* Mobile Web Logic ********************/
  return (
    <SomeContext.Provider
      value={{
        handleClickAddButton: callInsertAppScheme,
      }}
    >
      {children}
    </SomeContext.Provider>
  );
};

const WrapperComponent = () => {
  if (isApp) {
    return (
      <WebviewWrapperComponent>
        <ViewComponent />
      </WebviewWrapperComponent>
    );
  }

  return (
    <MWWrapperComponent>
      <ViewComponent />
    </MWWrapperComponent>
  );
};

const ViewComponent = () => {
  const { handleClickAddButton } = useSomeContext();
  return <>...</>;
};
```

ì´ì™¸ì—ë„ ì œê°€ ìƒê°í•˜ì§€ ëª»í•œ ë” ë§ì€ êµ¬í˜„ë°©ë²•ì´ ìˆê² ì§€ë§Œ,

ê°œë°œìë¼ë©´ ì£¼ì–´ì§„ ìƒí™©ì—ì„œ ë³¸ì¸ì´ íŒë‹¨í–ˆì„ ë•Œ, ì ì ˆí•œ ì´ìœ ë¥¼ ê°€ì§€ê³  ìµœì ì˜ ë°©ì‹ì„ ì„ íƒí•˜ëŠ”ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤~!

ì´ìƒìœ¼ë¡œ "Render Props íŒ¨í„´ì„ í™œìš©í•´ ë¡œì§ ë¶„ë¦¬í•˜ê¸°" í¬ìŠ¤íŠ¸ë¥¼ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤ ğŸ™‡
